<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Analisa Code</title>
  <style>
    body, html {
      margin: 0;
      padding: 0;
      height: 100%;
      overflow: hidden;
      font-family: monospace;
      color: silver;
      text-align: center;
    }

    /* Video background full screen */
    #bg-video {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      z-index: -1;
    }

    /* Semua konten agar di atas video */
    .content {
      position: relative;
      z-index: 1;
      background: rgba(0, 0, 0, 0.2); /* efek transparan hitam biar teks terbaca */
      padding: 20px;
      border-radius: 10px;
      width: 95%;
      margin: auto;
    }

    h1 {
      color: blue;
    }

    textarea {
      width: 90%;
      height: 250px;
      background: rgba(0, 0, 0, 0.1);
      color: white;
      border: 2px solid blue;
      padding: 10px;
      margin-top: 10px;
    }
    button, select {
      background: blue;
      border: 2px solid white;
      color: white;
      font-weight: bold;
      padding: 10px 20px;
      margin: 5px;
      cursor: pointer;
    }
    .result {
      margin-top: 15px;
      padding: 10px;
      background: #111;
      border: 1px solid blue;
      color: #fff;
      width: 90%;
      margin-left: auto;
      margin-right: auto;
      white-space: pre-wrap;
      text-align: left;
    }
  </style>
</head>
<body>
  <!-- Video Background -->
  <video autoplay muted loop id="bg-video">
    <source src="https://files.catbox.moe/gyppg8.mp4" type="video/mp4">
    Browser anda tidak mendukung video background.
  </video>

  <!-- Konten -->
  <div class="content">
    <h1>Fix Code Eror By Suzzy</h1>
    <p>Tempel kode JavaScript / HTML / CSS di bawah, lalu pilih jenis file.</p>

    <label for="fileType">Pilih File: </label>
    <select id="fileType">
      <option value="js">JavaScript</option>
      <option value="html">HTML</option>
      <option value="css">CSS</option>
    </select>
    <br><br>

    <textarea id="codeArea">Tempel teks nya disini...
INFO UPDATE WEBSITE t.me/suzzynew</textarea><br>

    <button onclick="analyzeCode()">Analisa</button>
    <button onclick="beautifyCode()">Rapikan Code</button>
    <button onclick="copyCode()">Copy</button>
    <button onclick="removeComments()">Hapus Komentar</button>
    <button onclick="clearCode()">Bersihkan</button>

    <div class="result" id="result">Hasil analisa akan muncul di sini...</div>
  </div>

  <script>
    const codeArea = document.getElementById("codeArea");
    const result = document.getElementById("result");
    const fileType = document.getElementById("fileType");

    function analyzeCode() {
      const code = codeArea.value;
      let output = `üîé Analisa ${fileType.value.toUpperCase()}...\n\n`;

      if (fileType.value === "js") {
        try {
          new Function(code);
          output += "‚úÖ Tidak ditemukan error pada JavaScript.\n";
        } catch (err) {
          output += `‚ùå Error: ${err.message}\n`;
          output += "üí° Saran: Periksa tanda kurung, titik koma, atau sintaks yang salah.\n";
        }
      } else if (fileType.value === "html") {
        const openTags = (code.match(/<([a-z]+)(?=\s|>)/gi) || []).map(t => t.replace("<",""));
        const closeTags = (code.match(/<\/([a-z]+)>/gi) || []).map(t => t.replace(/<\/|>/g,""));
        let unclosed = openTags.filter(t => !closeTags.includes(t));
        if (unclosed.length === 0) {
          output += "‚úÖ Tidak ada tag HTML yang hilang.\n";
        } else {
          output += `‚ùå Tag belum ditutup: ${unclosed.join(", ")}\n`;
          output += "üí° Saran: Tutup semua tag dengan </tagname>.\n";
        }
      } else if (fileType.value === "css") {
        let open = (code.match(/{/g) || []).length;
        let close = (code.match(/}/g) || []).length;
        if (open === close) {
          output += "‚úÖ Struktur CSS seimbang.\n";
        } else {
          output += `‚ùå Kurung buka { : ${open}, Kurung tutup } : ${close}\n`;
          output += "üí° Saran: Pastikan setiap { punya pasangan }.\n";
        }
      }
      result.innerText = output;
    }

    function beautifyCode() {
      let code = codeArea.value;
      code = code.replace(/;/g, ";\n").replace(/{/g, "{\n").replace(/}/g, "\n}\n");
      codeArea.value = code;
    }

    function copyCode() {
      codeArea.select();
      document.execCommand("copy");
      alert("Kode berhasil disalin!");
    }

    function removeComments() {
      let code = codeArea.value;
      if (fileType.value === "js" || fileType.value === "css") {
        code = code.replace(/\/\/.*$/gm, "");
        code = code.replace(/\/\*[\s\S]*?\*\//gm, "");
      } else if (fileType.value === "html") {
        code = code.replace(/<!--[\s\S]*?-->/gm, "");
      }
      codeArea.value = code;
    }

    function clearCode() {
      codeArea.value = "";
      result.innerText = "Hasil analisa akan muncul di sini...";
    }
  </script>
</body>
</html>